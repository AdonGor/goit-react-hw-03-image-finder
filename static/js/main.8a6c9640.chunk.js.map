{"version":3,"sources":["services/imagesApi.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["query","page","apiKey","axios","get","then","res","data","hits","Searchbar","state","handleSubmit","event","preventDefault","props","onSubmit","setState","handleChange","target","value","name","className","this","type","autoComplete","autoFocus","placeholder","onChange","React","Component","ImageGalleryItem","src","srcOriginal","id","alt","getLargeImageURL","data-source","data-id","onClick","dataset","source","ImageGallery","images","onImageClick","map","element","webformatURL","largeImageURL","tags","Button","modalRoot","document","querySelector","Modal","onEscPress","code","closeModal","onCloseModal","currentTarget","window","addEventListener","removeEventListener","createPortal","App","isLoading","error","showModal","originalImageURL","fetchImages","imagesApi","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","handleSubmitForm","searchQuery","handleClickImage","openModal","prevProps","color","height","width","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8a6c9640.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst fetchImagesWithQuery = (query, page = 1) => {\n  const apiKey = '19901626-05d28a6fd401ec47b5efa4d58';\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(res => res.data.hits);\n};\nexport default { fetchImagesWithQuery };\n","import React from 'react';\n\nclass Searchbar extends React.Component {\n  state = {\n    query: '',\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  handleChange = ({ target: { value, name } }) => {\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            name=\"query\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction ImageGalleryItem({\n  src,\n  srcOriginal,\n  id,\n  alt,\n  getLargeImageURL,\n}) {\n  const handleClick = event => getLargeImageURL(event.target.dataset.source);\n\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={src}\n        alt={alt}\n        data-source={srcOriginal}\n        data-id={id}\n        className=\"ImageGalleryItem-image\"\n        onClick={handleClick}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  srcOriginal: PropTypes.string.isRequired,\n  id: PropTypes.number,\n  alt: PropTypes.string,\n  getLargeImageURL: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nfunction ImageGallery({ images, onImageClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(element => (\n        <ImageGalleryItem\n          key={element.id}\n          src={element.webformatURL}\n          srcOriginal={element.largeImageURL}\n          id={element.id}\n          alt={element.tags}\n          getLargeImageURL={onImageClick}\n        ></ImageGalleryItem>\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;","import React from 'react';\nimport PropTypes from 'prop-types';\n\n function Button({ onClick }) {\n  return (\n    <button className=\"Button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.onEscPress);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onEscPress);\n  }\n  onEscPress = event => {\n    if (event.code === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n\n  onCloseModal = event => {\n    if (event.target === event.currentTarget) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.onCloseModal}>\n        <div className=\"Modal\">\n          <img src={this.props.largeImageURL} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;","import React, {Component} from 'react';\nimport imagesApi from './services/imagesApi';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nimport Loader from 'react-loader-spinner';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    query: '',\n    page: 1,\n    error: null,\n    showModal: false,\n    originalImageURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    const { query, page } = this.state;\n    this.setState({ isLoading: true });\n    imagesApi\n      .fetchImagesWithQuery(query, page)\n      .then(images =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  handleSubmitForm = searchQuery => {\n    this.setState({ images: [], query: searchQuery, page: 1 });\n  };\n\n  handleClickImage = largeImageURL => {\n    this.openModal(largeImageURL);\n  };\n\n  openModal = largeImageURL =>\n    this.setState({ showModal: true, originalImageURL: largeImageURL });\n\n  closeModal = () => this.setState({ showModal: false, originalImageURL: '' });\n\n  render() {\n    const { images, isLoading, showModal, originalImageURL } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSubmitForm} />\n        <ImageGallery images={images} onImageClick={this.handleClickImage} />\n        {showModal && (\n          <Modal\n            largeImageURL={originalImageURL}\n            closeModal={this.closeModal}\n          ></Modal>\n        )}\n        <div className=\"ButtonWrap\">\n          {isLoading && (\n            <Loader\n              type=\"ThreeDots\"\n              color=\"#303f9f\"\n              height={50}\n              width={50}\n              timeout={3000}\n            />\n          )}\n          {images.length > 0 && !isLoading && (\n            <Button onClick={this.fetchImages} />\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.module.css';\n\nReactDOM.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n    document.getElementById('root'),\n  );\n"],"sourceRoot":""}